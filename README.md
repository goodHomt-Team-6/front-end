# goodHomt

## ğŸ‹ğŸ»â€â™€ï¸ ê°œìš”

- ëª…ì¹­ : ë‹¤ë°© í´ë¡  ì½”ë”©
- ê°œë°œ ì¸ì› : 4ëª…
  - Front end: **ë°•ê²½ì¤€, ìš°ì§€ìŒ**
  - Back end: **ê¹€ì˜ë¡, ì´ëŒ€ì„±**
- ê°œë°œ ê¸°ê°„ : 2021.07.23 ~ 2021.08.31
- ì£¼ìš” ê¸°ëŠ¥
  - 
- ê°œë°œ ì–¸ì–´ : JavaScript
- ê°œë°œ ë¼ì´ë¸ŒëŸ¬ë¦¬ : React.js
- í˜•ìƒ ê´€ë¦¬ íˆ´ : git
- í˜‘ì—… íˆ´ : [notion](https://www.notion.so/_6-_goodHomt-24a47662c9b9452882255d64e16d282a)
- ê°„ë‹¨ ì†Œê°œ : ë¦¬ì•¡íŠ¸ - ìš´ë™ ë£¨í‹´ ê¸°ë¡ ë° ìš´ë™í•˜ê¸°, ìš´ë™ ë£¨í‹´ ê³µìœ , ì±Œë¦°ì§€, ìš´ë™ ê¸°ë¡ ìº˜ë¦°ë”

## â˜ğŸ» í”„ë¡œì íŠ¸ íŠ¹ì§•

- í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œë¥¼ ë¶„ë¦¬í•˜ì—¬ í”„ë¡œì íŠ¸ ê°œë°œ

  - ê° íŒŒíŠ¸ë³„ë¡œ Repositoryë¥¼ ìƒì„± í›„ ì‘ì—…
  - í”„ë¡ íŠ¸: AWS S3
  - ë°±ì—”ë“œ: AWS EC2
  - ë¹Œë“œ í›„, S3ì™€ EC2ë¥¼ ì—°ë™
    - API ëª…ì„¸ì„œì— ë”°ë¼ APIí˜¸ì¶œ ë° ì‘ë‹µ í™•ì¸
  - kakao ì§€ë„ api, daum ì£¼ì†Œ ê²€ìƒ‰ api í™œìš©
  - ë°”ë‹ë¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ì§ì ‘ ë§Œë“  ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë“œ

## ğŸ’» ì‚¬ìš© íŒ¨í‚¤ì§€

* **reduxjs/toolkit**
  - ë°ì´í„° ì „ì—­ ê´€ë¦¬ë¥¼ ìœ„í•œ ë¦¬ë•ìŠ¤ ê´€ë¦¬ íŒ¨í‚¤ì§€
* **styled-components**
  - ì»´í¬ë„ŒíŠ¸ì˜ ìŠ¤íƒ€ì¼ì„ ì„¤ì •í•˜ëŠ” íŒ¨í‚¤ì§€
* **axios**
  - ì„œë²„ í†µì‹ ì„ ìœ„í•œ íŒ¨í‚¤ì§€
* **connected-react-router, history**
  - ë¼ìš°íŒ… ë° í˜ì´ì§€ ì´ë™ì„ ìœ„í•œ íŒ¨í‚¤ì§€
* **react-nice-dates**
  - ë‹¬ë ¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ 

[ë°°í¬ ì‚¬ì´íŠ¸](http://dabangclone.s3-website.ap-northeast-2.amazonaws.com/)

<img src="https://images.velog.io/images/uvula6921/post/44c62413-9689-4568-bb41-0f8f2dacd74d/%EB%B0%A9%EC%98%AC%EB%A6%AC%EA%B8%B0GIF.gif">
<img src="https://images.velog.io/images/uvula6921/post/a97ebc6d-366a-4042-b1ee-f3b706cb5e59/%EC%98%AC%EB%A6%B0%20%EB%B0%A9%20GIF.gif">
<img src="https://images.velog.io/images/uvula6921/post/8cee216c-efe8-4318-bcef-d4bb36af9d7e/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-07-23%20%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB%209.01.24.png">

## ğŸš€ í•µì‹¬ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

### ì›”ì„¸ ì „ì„¸ row ì‚­ì œí•˜ëŠ” X ë²„íŠ¼ í´ë¦­ ì‹œ 2íšŒ ë°œìƒí•˜ëŠ” ë¬¸ì œ.
- ì›”ì„¸, ì „ì„¸ row ìƒì„± í›„ X ë²„íŠ¼ìœ¼ë¡œ row í•˜ë‚˜ë¥¼ ì‚­ì œí•˜ë ¤ê³  í•˜ë©´ ë‘ê°œê°€ ì‚­ì œë˜ëŠ” ë¬¸ì œ.
- ì²«ë²ˆì§¸ X ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ rowê°€ ë‘ê°œ ëª¨ë‘ ì‚­ì œë¨.
- í´ë¦­í•œ ë²„íŠ¼ ìì²´(if (id === "monthly"))ë¥¼ ì´ìš©í•´ ë¶„ê¸°í•˜ë‹ˆ í•´ê²°ë¨.

- ë²„íŠ¼ í´ë¦­ ì‹œ 2íšŒ ë°œìƒí•˜ëŠ” ë¬¸ì œ ì½”ë“œ
```jsx
// TradeInfo.js
if (id === "monthly") {
  ...
  const remove_row_btn1 = document.getElementsByClassName("remove_row_btn1")[0];

  remove_row_btn1.addEventListener("click", function (event) {
    // ëŒ€ì¶© event.target ì„ ì‚­ì œí•˜ëŠ” ì½”ë“œê°€ ìˆì—ˆìŒ...
    document.getElementById("monthly").disabled = false;
  });
}
```

- remove_tr í•¨ìˆ˜ë¥¼ ë„£ì–´ì„œ, rowê°€ í•œê°œì¸ì§€ ë‘ê°œì¸ì§€ì— ë”°ë¼ ì–´ë–¤ ë¶€ë¶„ì„ ì§€ìš¸ê²ƒì¸ì§€ ìƒì„¸í•˜ê²Œ ì •ì˜í•´ë‘ .

```jsx
const remove_tr = (target) => {
  if (document.getElementsByClassName("iNyxMi").length === 1) {
    const th = document.getElementsByClassName("iNyxMi")[0].parentNode.parentNode.previousSibling;
    th.removeAttribute("rowspan");
    const tr = th.parentNode.nextSibling;
    tr.insertBefore(th, tr.firstChild);
    tr.previousSibling.remove();
  } else {
    target.disabled = true;
    target.parentNode.remove();
  }
};
```

### ìº˜ë¦°ë” ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©
- ìº˜ë¦°ë” ë‚ ì§œ í´ë¦­ ì‹œ ëª¨ë‹¬ì°½ ë‹«íˆë„ë¡ êµ¬í˜„.
- onDateChange ê°’ì— ì—¬ëŸ¬ê°œì˜ propsë¥¼ ë„˜ê¸¸ ìˆ˜ ì—†ìŒ. ì• ì´ˆì— ì´ ìº˜ë¦°ë” ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ëª¨ë‹¬ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ ì•ŠëŠ”ê²Œ ë¬¸ì œ.

```jsx
<DatePickerCalendar
  date={date}
  onDateChange={setDate}
  locale={enGB}
  />
```

- ìƒê°í•´ë‚¸ ì•„ì´ë””ì–´ : ì˜¤ëŠ˜ ë‚ ì§œì™€ ì„ íƒí•œ ë‚ ì§œê°€ ë‹¤ë¥´ë©´ ëª¨ë‹¬ì°½ì„ ë‹«ì•„ì£¼ê¸°.
- dateê°€ ë³€ê²½ë ë•Œë§Œ setShowCalendarë¥¼ ë™ì‘í•´ì¤˜ì•¼ í•¨.
- ê·¸ëƒ¥ ë Œë” ì‹œì— ë™ì‘ì‹œí‚¤ë©´ ë¬´í•œ ë Œë”ë§ì— ë¹ ì§. (ë Œë” ì™„ë£Œ -> showCalendar false set -> ì¬ë Œë” -> showCalendar false set)

```jsx
useEffect(() => {
  if (
    format(date, "yyyy.MM.dd", { locale: enGB }) !==
    format(today, "yyyy.MM.dd", { locale: enGB })
  ) {
    setShowCalendar(false);
    return;
  }
}, [date]);
```

- ë‹¨ìˆœíˆ dateê°€ ë³€ê²½ë ë•Œ ê·¸ëƒ¥ ëª¨ë‹¬ì°½ì„ ë‹«ì•„ì£¼ë©´ ì½”ë“œë¥¼ ê°„ì†Œí™”í•  ìˆ˜ ìˆë‹¤.

```jsx
useEffect(() => {
  setShowCalendar(false);
}, [date]);
```

### inputì˜ ê¸°ë³¸ê°’ì´ ë‚¨ì•„ìˆëŠ” ë¬¸ì œ

<img src="https://images.velog.io/images/uvula6921/post/dd1bb896-f041-437c-a97b-4f6c3f9a721a/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-07-20%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%2011.49.44.png">

- ìœ„ ì´ë¯¸ì§€ì²˜ëŸ¼ ê°’ì„ ì•ˆë„£ì–´ë„ 0ì´ input ì•ˆì— ë“¤ì–´ìˆì—ˆìŒ.
- "" ë¹ˆì¹¸ìœ¼ë¡œ ê°’ì´ ë“¤ì–´ê°€ë©´ input ì•ˆì—ì„œëŠ” ìƒí˜¸ í™˜ì‚° ê³¼ì •ì—ì„œ 0ìœ¼ë¡œ ë°”ë€ŒëŠ” ë¬¸ì œ.
- 0ì´ ë“¤ì–´ê°€ëŠ” ì‘ì—…ì˜ ë‚´ìš©ì€ í‰ê³¼ ì œê³±ë¯¸í„°ë¥¼ í•˜ë‚˜ë¼ë„ ì…ë ¥í•˜ë©´ ìƒí˜¸ ë³€í™˜ì´ ë˜ë„ë¡ í•´ì•¼í•˜ëŠ” ì‘ì—….

- useEffectë¡œ ê°’ì„ ë¶ˆëŸ¬ì˜¤ë©´ ìµœì´ˆ state ìƒì„±ë•Œ í•œë²ˆ ê°’ì„ ë¶ˆëŸ¬ì˜¤ê¸° ë•Œë¬¸ì— input valueê°€ ì²˜ìŒë¶€í„° 0ìœ¼ë¡œ ì„¤ì •ë˜ì–´ìˆìŒ -> 0ë„ ì—†ì• ê³  ì‹¶ì—ˆìŒ
- ê·¸ë˜ì„œ useEffectëŠ” ì‚¬ìš©í•˜ê¸°ë¥¼ í¬ê¸°.

```jsx
useEffect(() => {
  if (!pyeongInput.current.value) {
    pyeongInput.current.value = "1";
  } else {
    pyeongInput.current.value = m_square / 3.306;
  }
}, [m_square]);

useEffect(() => {
  mSquareInput.current.value = pyeong * 3.306;
}, [pyeong]);
```

- input ê°’ì´ ë³€í• ë•Œë§ˆë‹¤ í•¨ìˆ˜ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸°ë¡œ í•¨.
- input ê°’ì„ ì§€ì› ì„ë•ŒëŠ” ë˜ 0ìœ¼ë¡œ ì„¤ì •ì´ ë˜ê¸°ë•Œë¬¸ì— ê°•ì œë¡œ "" ë¹ˆì¹¸ìœ¼ë¡œ ë˜ë„ë¡ ì¡°ê±´ ë¶„ê¸°í•¨.

```jsx
const calcPyeong = (value) => {
  if (value) {
    pyeongInput.current.value = value / 3.306;
  } else {
    pyeongInput.current.value = "";
  }
};

const calcMSquare = (value) => {
  if (value) {
    mSquareInput.current.value = value * 3.306;
    setM_square(value * 3.306);
  } else {
    mSquareInput.current.value = "";
  }
};

...

<input
  ...
  onInput={(e) => {
    e.target.value = e.target.value
      .replace(/[^0-9.]/g, "")
      .replace(/(\..*)\./g, "$1");
    setPyeong(e.target.value);
    calcMSquare(e.target.value);
  }}
  ref={pyeongInput}
  />
<input
  ...
  onInput={(e) => {
    e.target.value = e.target.value
      .replace(/[^0-9.]/g, "")
      .replace(/(\..*)\./g, "$1");
    setM_square(e.target.value);
    calcPyeong(e.target.value);
  }}
  ref={mSquareInput}
  />
```
